### Compose example
POST http://localhost:3000/api/reading
content-type: application/json

{
  "mode": "compose",
  "input": {
    "user_id": "u-1",
    "session_id": "s-1",
    "timestamp_iso": "2025-09-13T10:00:00+10:00",
    "intent": "decision_clarity",
    "focus_prompt": "Take the startup offer or stay solo",
    "timeframe": "90d",
    "constraints": { "no_topics": [], "exclude_people": [] },
    "context": { "relationship_status": "single", "work_status": "freelance", "emotion_tone": 3 },
    "style": { "voice": "practical_strategist", "depth": "standard", "spirituality": "light" },
    "spread": { "name": "Forked Road Six", "positions": ["You now","Hidden factor","Path A","Path B","Risk","Most empowering next step"] },
    "deck": "RWS",
    "cards_drawn": [
      { "name": "The Magician", "reversed": false, "position": 1 },
      { "name": "Seven of Cups", "reversed": true, "position": 2 },
      { "name": "Three of Pentacles", "reversed": false, "position": 3 },
      { "name": "The Chariot", "reversed": false, "position": 4 },
      { "name": "Five of Pentacles", "reversed": true, "position": 5 },
      { "name": "Ace of Swords", "reversed": false, "position": 6 }
    ],
    "reader_notes": {
      "majors_count": 2,
      "element_bias": { "fire": 1, "water": 1, "air": 1, "earth": 3 },
      "reversals_count": 2,
      "numerology": { "aces": 1, "fives": 1, "sevens": 1 }
    }
  }
}

### Run with prepare (seeded draw)
POST http://localhost:3000/api/reading
content-type: application/json

{
  "mode": "run",
  "prepare": {
    "user_id": "u-1",
    "session_id": "s-2",
    "timestamp_iso": "2025-09-13T10:10:00+10:00",
    "intent": "open_reading",
    "focus_prompt": "What do I need to know right now?",
    "timeframe": "30d",
    "constraints": { "no_topics": [], "exclude_people": [] },
    "context": { "relationship_status": "n/a", "work_status": "employed", "emotion_tone": 2 },
    "style": { "voice": "straight_talker", "depth": "quick", "spirituality": "light" },
    "depth": "quick",
    "deck": "RWS",
    "seed": "demo-seed-1",
    "allowReversals": true
  }
}

